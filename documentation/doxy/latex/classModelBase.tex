\hypertarget{classModelBase}{\section{Model\-Base Class Reference}
\label{classModelBase}\index{Model\-Base@{Model\-Base}}
}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classModelBase_afe2a0077074c8fd54372fae3461919b9}{save} ()
\item 
\hyperlink{classModelBase_a5183135ede8664baa606dbdf9fc2eca0}{delete} ()
\item 
\hyperlink{classModelBase_a1b3373e9cf5d2920528a0c46ddc7c42f}{\-\_\-\-\_\-get} (\$field)
\item 
\hyperlink{classModelBase_ae19b572d12d6a9d9e64556ec6b7a9c25}{get\-Related} (\$name)
\item 
\hyperlink{classModelBase_ad820af9bc876f247be8e15b44c8b4dc4}{set\-Related} (\$name, \$value)
\item 
\hyperlink{classModelBase_ac93115f1d4999b56db948a4097c978d0}{add\-Related} (\$name, \$value)
\item 
\hyperlink{classModelBase_a48e09bdaa1f60c48ccb73c13eca2e005}{remove\-Related} (\$name, \$value)
\item 
\hyperlink{classModelBase_a012bbaca3aa24a5c7f4ccd5f1c75999c}{\-\_\-\-\_\-set} (\$field, \$value)
\item 
\hyperlink{classModelBase_a8e1e93de9f1c2541ac66777e5513f34a}{get\-Fields} ()
\item 
\hyperlink{classModelBase_ae513caa9e2aa259e42e50003eb4de60a}{as\-\_\-array} ()
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classModelBase_adffcc978a896a9f1c3dfc4cfbaf5202b}{from\-Array} (\$array)
\item 
static \hyperlink{classModelBase_a081976e021449729e21eea556201121e}{from\-Std\-Class} (\$class)
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classModelBase_ac42d971c4d431e98db55742730696bc2}{{\bfseries \$fields} = array()}\label{classModelBase_ac42d971c4d431e98db55742730696bc2}

\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classModelBase_a8ada673c0c2e218c9f1c4f6b35c2c9e2}{addfield} (\$name, \$object)
\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classModelBase_a390c124a3bed604cdf7aa80796d4229e}{{\bfseries \$container}}\label{classModelBase_a390c124a3bed604cdf7aa80796d4229e}

\end{DoxyCompactItemize}


\subsection{Detailed Description}
Include the main model field types class. 

\subsection{Member Function Documentation}
\hypertarget{classModelBase_a1b3373e9cf5d2920528a0c46ddc7c42f}{\index{Model\-Base@{Model\-Base}!\-\_\-\-\_\-get@{\-\_\-\-\_\-get}}
\index{\-\_\-\-\_\-get@{\-\_\-\-\_\-get}!ModelBase@{Model\-Base}}
\subsubsection[{\-\_\-\-\_\-get}]{\setlength{\rightskip}{0pt plus 5cm}Model\-Base\-::\-\_\-\-\_\-get (
\begin{DoxyParamCaption}
\item[{}]{\$field}
\end{DoxyParamCaption}
)}}\label{classModelBase_a1b3373e9cf5d2920528a0c46ddc7c42f}
Retrieves data from the model and returns it. This is necessary as data is contained in the field instances in the model and isn't directly available. Returns the data or the id of the object.


\begin{DoxyParams}{Parameters}
{\em \$field} & -\/ the field of the model to return data for\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
-\/ the data contained in the field
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em Exception} & -\/ throws an exception if the model field does not exist. \\
\hline
\end{DoxyExceptions}
\hypertarget{classModelBase_a012bbaca3aa24a5c7f4ccd5f1c75999c}{\index{Model\-Base@{Model\-Base}!\-\_\-\-\_\-set@{\-\_\-\-\_\-set}}
\index{\-\_\-\-\_\-set@{\-\_\-\-\_\-set}!ModelBase@{Model\-Base}}
\subsubsection[{\-\_\-\-\_\-set}]{\setlength{\rightskip}{0pt plus 5cm}Model\-Base\-::\-\_\-\-\_\-set (
\begin{DoxyParamCaption}
\item[{}]{\$field, }
\item[{}]{\$value}
\end{DoxyParamCaption}
)}}\label{classModelBase_a012bbaca3aa24a5c7f4ccd5f1c75999c}
Sets the data for a field in the model. This is required as data is stored internally in instances of fields rather than directly in a container or as properties.


\begin{DoxyParams}{Parameters}
{\em \$field} & -\/ the field name to set data for \\
\hline
{\em \$value} & -\/ the data to set\\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
{\em Exception} & -\/ throws an exception if the model field does not exist in the model. \\
\hline
\end{DoxyExceptions}
\hypertarget{classModelBase_a8ada673c0c2e218c9f1c4f6b35c2c9e2}{\index{Model\-Base@{Model\-Base}!addfield@{addfield}}
\index{addfield@{addfield}!ModelBase@{Model\-Base}}
\subsubsection[{addfield}]{\setlength{\rightskip}{0pt plus 5cm}Model\-Base\-::addfield (
\begin{DoxyParamCaption}
\item[{}]{\$name, }
\item[{}]{\$object}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}}\label{classModelBase_a8ada673c0c2e218c9f1c4f6b35c2c9e2}
Adds a field to the model. This is intended to be called in the constructor of the classes that inherit this class in order to register the fields and relational functionality with the class and the data access layer. Adding fields dynamically is not supported, so adding columns to the database after the model has been registered with the data access layer the first time needs to be done manually.


\begin{DoxyParams}{Parameters}
{\em \$name} & -\/ the name of the field to add \\
\hline
{\em \$object} & -\/ an instance of a \hyperlink{classModel}{Model} field.\\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
{\em Exception} & -\/ throws an exception for unsupported field types \\
\hline
\end{DoxyExceptions}
\hypertarget{classModelBase_ac93115f1d4999b56db948a4097c978d0}{\index{Model\-Base@{Model\-Base}!add\-Related@{add\-Related}}
\index{add\-Related@{add\-Related}!ModelBase@{Model\-Base}}
\subsubsection[{add\-Related}]{\setlength{\rightskip}{0pt plus 5cm}Model\-Base\-::add\-Related (
\begin{DoxyParamCaption}
\item[{}]{\$name, }
\item[{}]{\$value}
\end{DoxyParamCaption}
)}}\label{classModelBase_ac93115f1d4999b56db948a4097c978d0}
Adds another item to the object's Many\-To\-Many relationship with another table. This method updates the join table with the additional data if the object is not already associated with the model. The field is required to have been added to the model by way of the addfield method.


\begin{DoxyParams}{Parameters}
{\em \$name} & -\/ the name of the model field to add a relating item to. \\
\hline
{\em \$value} & -\/ the item to add to the related array.\\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
{\em Exception} & -\/ throws an exception when trying to add objects to a Foreign\-Key relationship rather than a Many\-To\-Many relationship. \\
\hline
\end{DoxyExceptions}
\hypertarget{classModelBase_ae513caa9e2aa259e42e50003eb4de60a}{\index{Model\-Base@{Model\-Base}!as\-\_\-array@{as\-\_\-array}}
\index{as\-\_\-array@{as\-\_\-array}!ModelBase@{Model\-Base}}
\subsubsection[{as\-\_\-array}]{\setlength{\rightskip}{0pt plus 5cm}Model\-Base\-::as\-\_\-array (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classModelBase_ae513caa9e2aa259e42e50003eb4de60a}
Returns the contained data of the object as an associative array stripped of the field types. This is used when saving and deleting an object, as the field types have been validated by the class already and the types are already configured in the database. \hypertarget{classModelBase_a5183135ede8664baa606dbdf9fc2eca0}{\index{Model\-Base@{Model\-Base}!delete@{delete}}
\index{delete@{delete}!ModelBase@{Model\-Base}}
\subsubsection[{delete}]{\setlength{\rightskip}{0pt plus 5cm}Model\-Base\-::delete (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classModelBase_a5183135ede8664baa606dbdf9fc2eca0}
Deletes a model instance from the database via the data access layer. It is recommended that the model be registered with the data access layer beforehand in order to make sure the necessary database structures exist.


\begin{DoxyExceptions}{Exceptions}
{\em Exception} & -\/ throws an exception if the model does not contain fields or data. \\
\hline
\end{DoxyExceptions}
\hypertarget{classModelBase_adffcc978a896a9f1c3dfc4cfbaf5202b}{\index{Model\-Base@{Model\-Base}!from\-Array@{from\-Array}}
\index{from\-Array@{from\-Array}!ModelBase@{Model\-Base}}
\subsubsection[{from\-Array}]{\setlength{\rightskip}{0pt plus 5cm}static Model\-Base\-::from\-Array (
\begin{DoxyParamCaption}
\item[{}]{\$array}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{classModelBase_adffcc978a896a9f1c3dfc4cfbaf5202b}
Creates a new instance of the model and populates it from an array. The array must contain O\-N\-L\-Y the data that the model is expected to contain, or the model instance will throw exceptions. This method is used by the data access layer to create model instances from an associative array returned by the database layer.


\begin{DoxyParams}{Parameters}
{\em \$array} & -\/ an associative array (string=$>$string) of data for the model. This array does not contain fields or types, as the model is initialized first and those are set in the model's own constructor.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\$instance -\/ a populated model instance 
\end{DoxyReturn}
\hypertarget{classModelBase_a081976e021449729e21eea556201121e}{\index{Model\-Base@{Model\-Base}!from\-Std\-Class@{from\-Std\-Class}}
\index{from\-Std\-Class@{from\-Std\-Class}!ModelBase@{Model\-Base}}
\subsubsection[{from\-Std\-Class}]{\setlength{\rightskip}{0pt plus 5cm}static Model\-Base\-::from\-Std\-Class (
\begin{DoxyParamCaption}
\item[{}]{\$class}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{classModelBase_a081976e021449729e21eea556201121e}
Creates a new instance of the model from an std\-Class instance. The instance must contain O\-N\-L\-Y the fields that the model itself contains or exceptions will be thrown. Field types do not need to be defined as those will be configured in the model's constructor prior to populating the data.


\begin{DoxyParams}{Parameters}
{\em \$class} & -\/ an std\-Class instance containing model data\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
-\/ an instance of the model class 
\end{DoxyReturn}
\hypertarget{classModelBase_a8e1e93de9f1c2541ac66777e5513f34a}{\index{Model\-Base@{Model\-Base}!get\-Fields@{get\-Fields}}
\index{get\-Fields@{get\-Fields}!ModelBase@{Model\-Base}}
\subsubsection[{get\-Fields}]{\setlength{\rightskip}{0pt plus 5cm}Model\-Base\-::get\-Fields (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classModelBase_a8e1e93de9f1c2541ac66777e5513f34a}
Returns the model's fields array which contains the field names, types, and contents. This is used by the data access layer to register the model. \hypertarget{classModelBase_ae19b572d12d6a9d9e64556ec6b7a9c25}{\index{Model\-Base@{Model\-Base}!get\-Related@{get\-Related}}
\index{get\-Related@{get\-Related}!ModelBase@{Model\-Base}}
\subsubsection[{get\-Related}]{\setlength{\rightskip}{0pt plus 5cm}Model\-Base\-::get\-Related (
\begin{DoxyParamCaption}
\item[{}]{\$name}
\end{DoxyParamCaption}
)}}\label{classModelBase_ae19b572d12d6a9d9e64556ec6b7a9c25}
Gets the objects that are associated with the model in a relational way by Foreign\-Key or Many\-To\-Many fields and returns them. The field must have already been added to the model via the addfield method.


\begin{DoxyParams}{Parameters}
{\em \$name} & -\/ the field name from the main model to retrieve the related objects for.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
-\/ an array of the related objects 
\end{DoxyReturn}
\hypertarget{classModelBase_a48e09bdaa1f60c48ccb73c13eca2e005}{\index{Model\-Base@{Model\-Base}!remove\-Related@{remove\-Related}}
\index{remove\-Related@{remove\-Related}!ModelBase@{Model\-Base}}
\subsubsection[{remove\-Related}]{\setlength{\rightskip}{0pt plus 5cm}Model\-Base\-::remove\-Related (
\begin{DoxyParamCaption}
\item[{}]{\$name, }
\item[{}]{\$value}
\end{DoxyParamCaption}
)}}\label{classModelBase_a48e09bdaa1f60c48ccb73c13eca2e005}
Removes a related object from the model Many\-To\-Many field. It is required that the field has been added to the model via the addfield method prior to using this method.


\begin{DoxyParams}{Parameters}
{\em \$name} & -\/ the name of the model field to remove the relative from. \\
\hline
{\em \$value} & -\/ the initialized model to remove from the relatives.\\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
{\em Exception} & -\/ throws an exception when trying to remove an object from something other than a Many\-To\-Many field. \\
\hline
\end{DoxyExceptions}
\hypertarget{classModelBase_afe2a0077074c8fd54372fae3461919b9}{\index{Model\-Base@{Model\-Base}!save@{save}}
\index{save@{save}!ModelBase@{Model\-Base}}
\subsubsection[{save}]{\setlength{\rightskip}{0pt plus 5cm}Model\-Base\-::save (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classModelBase_afe2a0077074c8fd54372fae3461919b9}
Saves a model via the data access layer. This function validates the fields of the model according to the type they are specified to be, throwing exceptions if they do not validate. It is recommended that the model be registered with the data access layer before attempting to store models using the layer.


\begin{DoxyExceptions}{Exceptions}
{\em -\/} & throws an exception if the model does not contain data \\
\hline
\end{DoxyExceptions}
\hypertarget{classModelBase_ad820af9bc876f247be8e15b44c8b4dc4}{\index{Model\-Base@{Model\-Base}!set\-Related@{set\-Related}}
\index{set\-Related@{set\-Related}!ModelBase@{Model\-Base}}
\subsubsection[{set\-Related}]{\setlength{\rightskip}{0pt plus 5cm}Model\-Base\-::set\-Related (
\begin{DoxyParamCaption}
\item[{}]{\$name, }
\item[{}]{\$value}
\end{DoxyParamCaption}
)}}\label{classModelBase_ad820af9bc876f247be8e15b44c8b4dc4}
Replaces a single foreignkey relationship value and raises an exception if the relationship is not a foreignkey. The field must have already been added to the model by way of the addfield method.


\begin{DoxyParams}{Parameters}
{\em \$name} & -\/ the name of the model\-Field to set a relation for. \\
\hline
{\em \$value} & -\/ the new instance of the model to set a new relation towards.\\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
{\em Exception} & -\/ throws an exception of the field to be set is not a Foreign\-Key relationship. \\
\hline
\end{DoxyExceptions}


The documentation for this class was generated from the following file\-:\begin{DoxyCompactItemize}
\item 
engine/classes/class\-\_\-model\-Base.\-php\end{DoxyCompactItemize}
